<svg:g id="{{ id }}" class="node whiteboard-element" [attr.transform]="'translate(' + node.x + ',' + node.y + ')'">
  <svg:g *ngIf="selected$ | async">
    <svg:circle
      [attr.fill]="haloColor"
      [attr.cx]="0 - haloOffset"
      [attr.cy]="0 - haloOffset"
      [attr.r]="haloHandleRadius"
    ></svg:circle>
    <svg:circle
      [attr.fill]="haloColor"
      [attr.cx]="node.width + haloOffset"
      [attr.cy]="0 - haloOffset"
      [attr.r]="haloHandleRadius"
    ></svg:circle>
    <svg:circle
      [attr.fill]="haloColor"
      [attr.cx]="0 - haloOffset"
      [attr.cy]="node.height + haloOffset"
      [attr.r]="haloHandleRadius"
    ></svg:circle>
    <svg:circle
      [attr.fill]="haloColor"
      [attr.cx]="node.width + haloOffset"
      [attr.cy]="node.height + haloOffset"
      [attr.r]="haloHandleRadius"
    ></svg:circle>
    <rect
      [attr.x]="0 - haloOffset"
      [attr.y]="0 - haloOffset"
      [attr.width]="node.width + haloOffset * 2"
      [attr.height]="node.height + haloOffset * 2"
      [attr.stroke]="haloColor"
      stroke-width="2"
      fill="none"
    ></rect>
    <foreignObject [attr.x]="node.width" [attr.width]="80" [attr.height]="node.height">
      <element-selection-halo></element-selection-halo>
    </foreignObject>
  </svg:g>
  <foreignObject class="element-content" [attr.width]="node.width" [attr.height]="node.height">
    <div *ngIf="isDragging$ | async" class="drag-overlay"></div>
    <element-header></element-header>
    <!-- <iframe
      IFrameClickTracker
      src="http://detective.solutions"
      style="height: inherit; width: inherit"
      frameBorder="0"
    ></iframe> -->
    <ag-grid-angular
      style="width: 100%; height: 100%"
      class="ag-theme-alpine prevent-zoom"
      [rowData]="rowData"
      [columnDefs]="columnDefs"
    >
    </ag-grid-angular>
  </foreignObject>
</svg:g>

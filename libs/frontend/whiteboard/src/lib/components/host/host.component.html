<div *ngIf="!!(isWhiteboardInitialized$ | async) === false || (isConnectedToWebSocketServer$ | async) === false">
  <div
    *ngIf="(webSocketConnectionFailedEventually$ | async) === null"
    class="loading-spinner loading-spinner-whiteboard"
  ></div>
  <div class="loading-backdrop"></div>
</div>
<whiteboard-topbar></whiteboard-topbar>
<whiteboard-sidebar></whiteboard-sidebar>
<svg
  #whiteboardContainer
  id="{{ whiteboardHtmlId }}"
  (dragover)="onElementDragOver($event)"
  (drop)="onElementDrop($event)"
  width="100%"
  height="100%"
>
  <g #zoomContainer id="zoom-container">
    <ng-container *ngFor="let node of whiteboardNodes$ | async">
      <ng-container [ngSwitch]="node.type">
        <g *ngSwitchCase="nodeType.TABLE" tableNode [node]="node"></g>
        <g *ngSwitchCase="nodeType.EMBEDDING" embeddingNode [node]="node"></g>
      </ng-container>
    </ng-container>
    <!-- <g [linkVisual]="link" *ngFor="let link of links$ | async"></g> -->
  </g>
</svg>

<div class="users-wrapper" [class.is-mobile]="isMobile$ | async" *transloco="let t; read: 'admin.users'">
  <div class="user-limit-wrapper">
    <div *ngIf="usersInfo$ | async as usersInfo; else isLoadingUsersInfo" class="user-limit user-limit-loaded">
      <p>
        {{ usersInfo.currentUsersCount }} {{ t('utils.of') }} {{ usersInfo.userLimit }}
        {{ t('utils.users') }}
      </p>
      <mat-progress-bar [value]="usersRatio$ | async" mode="determinate"></mat-progress-bar>
    </div>
    <ng-template #isLoadingUsersInfo>
      <mat-progress-bar class="user-limit user-limit-loading"></mat-progress-bar>
    </ng-template>
  </div>
  <table-view
    [tableItems$]="tableItems$"
    [isLoading$]="isLoading$"
    [fetchMoreDataOnScroll$]="fetchMoreDataOnScroll$"
  ></table-view>
</div>
